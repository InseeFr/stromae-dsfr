"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[931],{7172:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var n=t(4848),r=t(8453);const i={},o="Contr\xf4les",a={id:"application/controls",title:"Contr\xf4les",description:"Les contr\xf4les permettent de d\xe9finir des r\xe8gles de validation dans le questionnaire (sous forme d'expression VTL). Ils sont sp\xe9cifi\xe9s dans Pogues ou ajout\xe9s automatiquement et ex\xe9cut\xe9s par Lunatic. Stromae DSFR s'occupe simplement de piloter leur ex\xe9cution.",source:"@site/docs/application/controls.md",sourceDirName:"application",slug:"/application/controls",permalink:"/stromae-dsfr/docs/docs/application/controls",draft:!1,unlisted:!1,editUrl:"https://github.com/InseeFr/stromae-dsfr/tree/main/website/docs/application/controls.md",tags:[],version:"current",frontMatter:{},sidebar:"docSidebar",previous:{title:"Navigation",permalink:"/stromae-dsfr/docs/docs/application/navigation"},next:{title:"Pagination",permalink:"/stromae-dsfr/docs/docs/application/pagination"}},c={},l=[{value:"L&#39;ex\xe9cution des contr\xf4les",id:"lex\xe9cution-des-contr\xf4les",level:2},{value:"L&#39;affichage",id:"laffichage",level:2}];function u(e){const s={a:"a",h1:"h1",h2:"h2",img:"img",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"contr\xf4les",children:"Contr\xf4les"}),"\n",(0,n.jsxs)(s.p,{children:["Les contr\xf4les permettent de d\xe9finir des r\xe8gles de validation dans le questionnaire (sous forme d'expression VTL). Ils sont ",(0,n.jsx)(s.a,{href:"https://inseefr.github.io/Bowie/pogues/guide/",children:"sp\xe9cifi\xe9s dans Pogues"})," ou ajout\xe9s automatiquement et ex\xe9cut\xe9s par Lunatic. Stromae DSFR s'occupe simplement de piloter leur ex\xe9cution."]}),"\n",(0,n.jsx)(s.p,{children:"Chaque contr\xf4le poss\xe8de les caract\xe9ristiques suivantes :"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Criticit\xe9 : Peut \xeatre d\xe9finie comme information, avertissement ou erreur."}),"\n",(0,n.jsx)(s.li,{children:"Type de contr\xf4le : Peut \xeatre de format ou de coh\xe9rence."}),"\n",(0,n.jsx)(s.li,{children:"Expression : D\xe9finit la condition d'affichage du contr\xf4le."}),"\n",(0,n.jsx)(s.li,{children:"Message d'erreur : Message affich\xe9 en cas de non-validation du contr\xf4le."}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Un contr\xf4le est consid\xe9r\xe9 comme ",(0,n.jsx)(s.strong,{children:"bloquant"})," s'il s'agit d'un ",(0,n.jsx)(s.strong,{children:"contr\xf4le de format"})," ou si sa ",(0,n.jsx)(s.strong,{children:"criticit\xe9 est erreur"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"lex\xe9cution-des-contr\xf4les",children:"L'ex\xe9cution des contr\xf4les"}),"\n",(0,n.jsxs)(s.p,{children:["L'ex\xe9cution des contr\xf4les est tr\xe8s li\xe9e \xe0 la pagination. En effet, ils sont ex\xe9cut\xe9s \xe0 chaque clic sur le bouton ",(0,n.jsx)(s.strong,{children:"continuer"}),". L'impact des contr\xf4les sur la pagination est d\xe9taill\xe9 dans le graphique ci-dessous :"]}),"\n",(0,n.jsx)(s.mermaid,{value:"flowchart TD\n  A[Appuyer sur le bouton Continuer] --\x3e B[V\xe9rification des erreurs]\n  B --\x3e C{Y a-t-il des erreurs ?}\n  C --\x3e|Non| D[Continuer \xe0 la page suivante]\n  C --\x3e|Oui| E{Erreur bloquante ?}\n  E --\x3e|Oui| F[Rester sur la page actuelle et afficher les erreurs]\n  E --\x3e|Non| G{Les erreurs actuelles sont-elles les m\xeames que les erreurs actives ?}\n  G --\x3e|Oui| H[Effacer les erreurs et continuer \xe0 la page suivante]\n  G --\x3e|Non| I[Mettre \xe0 jour les erreurs affich\xe9es et rester sur la page]\n\n  style D fill:#f9f,stroke:#333,stroke-width:4px\n  style F fill:#f96,stroke:#333,stroke-width:4px\n  style H fill:#f9f,stroke:#333,stroke-width:4px\n  style I fill:#f96,stroke:#333,stroke-width:4px"}),"\n",(0,n.jsx)(s.h2,{id:"laffichage",children:"L'affichage"}),"\n",(0,n.jsx)(s.p,{children:"Sauf cas particulier (dans les tableaux, par exemple), les contr\xf4les figurent d\xe9sormais sous les champs de saisie. Les erreurs et avertissements sont affich\xe9s de la m\xeame fa\xe7on."}),"\n",(0,n.jsx)(s.p,{children:"Lorsque plusieurs contr\xf4les ont \xe9t\xe9 d\xe9crits, ils apparaissent avec une pr\xe9c\xe9dence (un contr\xf4le doit \xeatre r\xe9solu avant que le suivant ne se d\xe9clenche)."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.img,{src:"https://github.com/InseeFr/Stromae/assets/71011059/3626e379-7eaf-41e5-93be-e05730cad9e3",alt:"image"}),"\n",(0,n.jsx)(s.img,{src:"https://github.com/InseeFr/Stromae/assets/71011059/daa729f2-331e-41a7-9fef-a3a1650ce8f4",alt:"image"}),"\n",(0,n.jsx)(s.img,{src:"https://github.com/InseeFr/Stromae/assets/71011059/68dfa757-e997-430c-a45e-c8d50cf0d8b5",alt:"image"})]}),"\n",(0,n.jsxs)(s.p,{children:["Stromae DSFR se contente de piloter l\u2019ex\xe9cution des contr\xf4les et de transmettre les erreurs aux composants affich\xe9s par Lunatic. La customisation de l\u2019affichage des composants, et donc des contr\xf4les, est g\xe9r\xe9e par ",(0,n.jsx)(s.a,{href:"https://github.com/InseeFr/Lunatic-dsfr",children:"Lunatic DSFR"}),"."]})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>a});var n=t(6540);const r={},i=n.createContext(r);function o(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);