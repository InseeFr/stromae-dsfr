/*! For license information please see password.module.js.LICENSE.txt */
const config={prefix:"fr",namespace:"dsfr",organisation:"@gouvfr",version:"1.12.1"},api=window[config.namespace],PasswordEmission={TOGGLE:api.internals.ns.emission("password","toggle"),ADJUST:api.internals.ns.emission("password","adjust")};class PasswordToggle extends api.core.Instance{static get instanceClassName(){return"PasswordToggle"}init(){this.listenClick(),this.ascend(PasswordEmission.ADJUST,this.width),this.isSwappingFont=!0,this._isChecked=this.isChecked}get width(){const s=getComputedStyle(this.node.parentNode);return parseInt(s.width)}get isChecked(){return this.node.checked}set isChecked(s){this._isChecked=s,this.ascend(PasswordEmission.TOGGLE,s)}handleClick(){this.isChecked=!this._isChecked}swapFont(s){this.ascend(PasswordEmission.ADJUST,this.width)}}class Password extends api.core.Instance{static get instanceClassName(){return"Password"}init(){this.addAscent(PasswordEmission.TOGGLE,this.toggle.bind(this)),this.addAscent(PasswordEmission.ADJUST,this.adjust.bind(this))}toggle(s){this.descend(PasswordEmission.TOGGLE,s)}adjust(s){this.descend(PasswordEmission.ADJUST,s)}}const PasswordSelector={PASSWORD:api.internals.ns.selector("password"),INPUT:api.internals.ns.selector("password__input"),LABEL:api.internals.ns.selector("password__label"),TOOGLE:`${api.internals.ns.selector("password__checkbox")} input[type="checkbox"]`};class PasswordInput extends api.core.Instance{static get instanceClassName(){return"PasswordInput"}init(){this.addDescent(PasswordEmission.TOGGLE,this.toggle.bind(this)),this._isRevealed="password"===this.hasAttribute("type"),this.listen("keydown",this.capslock.bind(this)),this.listen("keyup",this.capslock.bind(this))}toggle(s){this.isRevealed=s,this.setAttribute("type",s?"text":"password")}get isRevealed(){return this._isRevealed}capslock(s){s&&"function"!=typeof s.getModifierState||(s.getModifierState("CapsLock")?this.node.parentNode.setAttribute(api.internals.ns.attr("capslock"),""):this.node.parentNode.removeAttribute(api.internals.ns.attr("capslock")))}set isRevealed(s){this._isRevealed=s,this.setAttribute("type",s?"text":"password")}}class PasswordLabel extends api.core.Instance{static get instanceClassName(){return"PasswordLabel"}init(){this.addDescent(PasswordEmission.ADJUST,this.adjust.bind(this))}adjust(s){const e=Math.ceil(s/16);this.node.style.paddingRight=e+"rem"}}api.password={Password:Password,PasswordToggle:PasswordToggle,PasswordSelector:PasswordSelector,PasswordInput:PasswordInput,PasswordLabel:PasswordLabel},api.internals.register(api.password.PasswordSelector.INPUT,api.password.PasswordInput),api.internals.register(api.password.PasswordSelector.PASSWORD,api.password.Password),api.internals.register(api.password.PasswordSelector.TOOGLE,api.password.PasswordToggle),api.internals.register(api.password.PasswordSelector.LABEL,api.password.PasswordLabel);