/*! For license information please see tooltip.nomodule.min.js.LICENSE.txt */
!function(){"use strict";var t="dsfr",e=window[t],i={TOOLTIP:e.internals.ns.selector("tooltip"),SHOWN:e.internals.ns.selector("tooltip--shown"),BUTTON:e.internals.ns.selector("btn--tooltip")},o=function(t){function o(){t.call(this),this._state=0}t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o;var s={state:{configurable:!0}},n={instanceClassName:{configurable:!0}};return n.instanceClassName.get=function(){return"TooltipReferent"},o.prototype.init=function(){if(t.prototype.init.call(this),this.listen("focusin",this.focusIn.bind(this)),this.listen("focusout",this.focusOut.bind(this)),!this.matches(i.BUTTON)){var o=this.mouseover.bind(this);this.listen("mouseover",o),this.placement.listen("mouseover",o);var s=this.mouseout.bind(this);this.listen("mouseout",s),this.placement.listen("mouseout",s)}this.addEmission(e.core.RootEmission.KEYDOWN,this._keydown.bind(this)),this.listen("click",this._click.bind(this)),this.addEmission(e.core.RootEmission.CLICK,this._clickOut.bind(this))},o.prototype._click=function(){this.focus()},o.prototype._clickOut=function(t){this.node.contains(t)||this.blur()},o.prototype._keydown=function(t){t===e.core.KeyCodes.ESCAPE&&(this.blur(),this.close())},o.prototype.close=function(){this.state=0},s.state.get=function(){return this._state},s.state.set=function(t){this._state!==t&&(this.isShown=t>0,this._state=t)},o.prototype.focusIn=function(){this.state|=1},o.prototype.focusOut=function(){this.state&=-2},o.prototype.mouseover=function(){this.state|=2},o.prototype.mouseout=function(){this.state&=-3},Object.defineProperties(o.prototype,s),Object.defineProperties(o,n),o}(e.core.PlacementReferent),s=function(t){return"fr-"+t};s.selector=function(t,e){return void 0===e&&(e="."),""+e+s(t)},(s.attr=function(t){return"data-"+s(t)}).selector=function(t,e){var i=s.attr(t);return void 0!==e&&(i+='="'+e+'"'),"["+i+"]"},s.event=function(e){return t+"."+e},s.emission=function(t,e){return"emission:"+t+"."+e};var n={SHOW:s.event("show"),HIDE:s.event("hide")},r="hidden",c="shown",h="hiding",a=function(t){function s(){t.call(this,e.core.PlacementMode.AUTO,[e.core.PlacementPosition.TOP,e.core.PlacementPosition.BOTTOM],[e.core.PlacementAlign.CENTER,e.core.PlacementAlign.START,e.core.PlacementAlign.END]),this.modifier="",this._state=r}t&&(s.__proto__=t),s.prototype=Object.create(t&&t.prototype),s.prototype.constructor=s;var a={isShown:{configurable:!0}},p={instanceClassName:{configurable:!0}};return p.instanceClassName.get=function(){return"Tooltip"},s.prototype.init=function(){t.prototype.init.call(this),this.register('[aria-describedby="'+this.id+'"]',o),this.listen("transitionend",this.transitionEnd.bind(this))},s.prototype.transitionEnd=function(){this._state===h&&(this._state=r,this.isShown=!1)},a.isShown.get=function(){return t.prototype.isShown},a.isShown.set=function(e){if(this.isEnabled)switch(!0){case e:this._state=c,this.addClass(i.SHOWN),this.dispatch(n.SHOW),t.prototype.isShown=!0;break;case this.isShown&&!e&&this._state===c:this._state=h,this.removeClass(i.SHOWN);break;case this.isShown&&!e&&this._state===r:this.dispatch(n.HIDE),t.prototype.isShown=!1}},s.prototype.render=function(){t.prototype.render.call(this);var e=this.referentRect.center-this.rect.center,i=.5*this.rect.width-8;e<-i&&(e=-i),e>i&&(e=i),this.setProperty("--arrow-x",e.toFixed(2)+"px")},Object.defineProperties(s.prototype,a),Object.defineProperties(s,p),s}(e.core.Placement);e.tooltip={Tooltip:a,TooltipSelector:i,TooltipEvent:n},e.internals.register(e.tooltip.TooltipSelector.TOOLTIP,e.tooltip.Tooltip)}();