const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./dsfr.module-DCXdbWOu.js","./_commonjsHelpers-CE1G-McA.js"])))=>i.map(i=>d[i]);
import{j as I}from"./index-fVqgY-Uj.js";import{r as y}from"./index-DginCt-p.js";import{_ as J}from"./iframe-CiongFa2.js";import{a as R,i as z,s as Q,b as X,c as Z,u as j}from"./i18n-B0tjb1uG.js";import{b as E,U as M,c as ee}from"./index-Bhj1pA4i.js";import{g as re}from"./_commonjsHelpers-CE1G-McA.js";import"./index-CPmPM_fc.js";import"./index-CcR1FEzS.js";import"./index-DrFu-skq.js";function D(r,e,t){try{r[e]=t}catch{}if(r[e]===t)return t;let n;const o=Object.getOwnPropertyDescriptor(r,e)||{enumerable:!0,configurable:!0};if(o.get)throw new Error(`Probably a wrong idea to overwrite ${String(e)} getter`);try{Object.defineProperty(r,e,{...o,value:t})}catch(a){n=a}if(r[e]!==t)throw n||new Error("Can't assign");return t}class te{constructor(){this.isPending=!0;let e,t;this.pr=new Promise((n,o)=>{e=a=>{D(this,"isPending",!1),n(a)},t=a=>{D(this,"isPending",!1),o(a)}}),this.resolve=e,this.reject=t}}let w=!1;async function ne(r){const{defaultColorScheme:e,verbose:t,doCheckNonce:n,trustedTypesPolicyName:o}=r;if(R(z),w)return;w=!0;const a=s=>s();Q({colorSchemeExplicitlyProvidedAsParameter:e,registerEffectAction:a,doCheckNonce:n,trustedTypesPolicyName:o}),window.dsfr={verbose:t,mode:"react"},await J(()=>import("./dsfr.module-DCXdbWOu.js").then(s=>s.d),__vite__mapDeps([0,1]),import.meta.url),L.resolve(),a(()=>{window.dsfr.start()})}const L=new te;L.pr;function oe(r){const{defaultColorScheme:e,verbose:t=!1,Link:n,useLang:o,nonce:a,trustedTypesPolicyName:s="react-dsfr"}=r;n!==void 0&&X({Link:n}),o!==void 0&&Z({useLang:o}),R(a!=="","nonce cannot be an empty string");const i=a!==void 0;i&&(window.ssrNonce=a),ne({defaultColorScheme:e,verbose:t,doCheckNonce:i,trustedTypesPolicyName:s})}var g="DARK_MODE",h,k;function ae(){return k||(k=1,h=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,o,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(!r(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[o]))return!1;for(o=n;o--!==0;){var s=a[o];if(!r(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}),h}var se=ae();const C=re(se);function u(r){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(r)}var b;function A(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function P(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A(Object(t),!0).forEach(function(n){ie(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ie(r,e,t){return e=ce(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ce(r){var e=le(r,"string");return u(e)==="symbol"?e:String(e)}function le(r,e){if(u(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(u(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function d(r){return pe(r)||de(r)||fe(r)||ue()}function ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fe(r,e){if(r){if(typeof r=="string")return v(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(r,e)}}function de(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function pe(r){if(Array.isArray(r))return v(r)}function v(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}const{global:ye}=__STORYBOOK_MODULE_GLOBAL__,{STORY_CHANGED:Ne,SET_STORIES:Ue,DOCS_RENDERED:Ke}=__STORYBOOK_MODULE_CORE_EVENTS__;var B=ye,ge=B.document,m=B.window,x="sb-addon-themes-3";(b=m.matchMedia)===null||b===void 0||b.call(m,"(prefers-color-scheme: dark)");var _={classTarget:"body",dark:E.dark,darkClass:["dark"],light:E.light,lightClass:["light"],stylePreview:!1,userHasExplicitlySetTheTheme:!1},T=function(e){m.localStorage.setItem(x,JSON.stringify(e))},me=function(e,t){var n=t.current,o=t.darkClass,a=o===void 0?_.darkClass:o,s=t.lightClass,i=s===void 0?_.lightClass:s;if(n==="dark"){var c,l;(c=e.classList).remove.apply(c,d(p(i))),(l=e.classList).add.apply(l,d(p(a)))}else{var f,S;(f=e.classList).remove.apply(f,d(p(a))),(S=e.classList).add.apply(S,d(p(i)))}},p=function(e){var t=[];return t.concat(e).map(function(n){return n})},he=function(e){var t=ge.querySelector(e.classTarget);t&&me(t,e)},N=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=m.localStorage.getItem(x);if(typeof t=="string"){var n=JSON.parse(t);return e&&(e.dark&&!C(n.dark,e.dark)&&(n.dark=e.dark,T(n)),e.light&&!C(n.light,e.light)&&(n.light=e.light,T(n))),n}return P(P({},_),e)};he(N());function be(r,e){return Se(r)||_e(r,e)||ve(r,e)||Oe()}function Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(r,e){if(r){if(typeof r=="string")return F(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(r,e)}}function F(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function _e(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,o,a,s,i=[],c=!0,l=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(c=(n=a.call(t)).done)&&(i.push(n.value),i.length!==e);c=!0);}catch(f){l=!0,o=f}finally{try{if(!c&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(l)throw o}}return i}}function Se(r){if(Array.isArray(r))return r}const{addons:Ee,useState:De,useEffect:we}=__STORYBOOK_MODULE_PREVIEW_API__;function ke(){var r=De(N().current==="dark"),e=be(r,2),t=e[0],n=e[1];return we(function(){var o=Ee.getChannel();return o.on(g,n),function(){return o.off(g,n)}},[]),t}const U="logo.png",K="stromae-dsfr",q="https://github.com/InseeFr/stromae-dsfr",Y='"Marianne", arial, sans-serif',V="monospace",$=M({base:"dark",appBg:"#1E1E1E",appContentBg:"#161616",appPreviewBg:"#161616",barBg:"#1E1E1E",colorSecondary:"#8585F6",textColor:"#FFFFFF",brandImage:U,brandTitle:K,brandUrl:q,fontBase:Y,fontCode:V}),G=M({base:"light",appBg:"#F6F6F6",appContentBg:"#FFFFFF",appPreviewBg:"#FFFFFF",barBg:"#FFFFFF",colorSecondary:"#000091",textColor:"#212121",brandImage:U,brandTitle:K,brandUrl:q,fontBase:Y,fontCode:V}),{addons:Ce}=__STORYBOOK_MODULE_PREVIEW_API__,O=Ce.getChannel();function H(r){const{children:e,context:t}=r,{setIsDark:n,isDark:o}=j();return y.useEffect(()=>(O.on(g,n),()=>O.off(g,n)),[O,n]),I.jsx(ee,{context:t,theme:o?$:G,children:e})}H.__docgenInfo={description:"",methods:[],displayName:"DocsContainer"};const{UPDATE_STORY_ARGS:Ae}=__STORYBOOK_MODULE_CORE_EVENTS__,W="fr";oe({defaultColorScheme:"system",useLang:()=>W});const qe={globalTypes:{locale:{description:"Internationalization locale",defaultValue:W,toolbar:{icon:"globe",items:[{value:"fr",right:"ðŸ‡«ðŸ‡·",title:"FranÃ§ais"},{value:"en",right:"ðŸ‡ºðŸ‡¸",title:"English"}]}}},parameters:{backgrounds:{disable:!0},docs:{autodocs:!0,container:H,controls:{exclude:["darkMode"]}},darkMode:{light:G,dark:$},controls:{exclude:["activeControls","shortcut","filterDescription"],expanded:!0}},argTypes:{darkMode:{control:{type:"boolean"},description:"Global color scheme enabled, light or dark, it change only the color scheme of the Canvas"},initialPage:{table:{disable:!0},control:{type:"text"}},autoSuggesterLoading:{table:{disable:!0},control:{type:"boolean"}},detailAlwaysDisplayed:{table:{disable:!0,category:"components options"},control:{type:"boolean"}}},decorators:[(r,e)=>{const t=ke(),{setIsDark:n}=j(),o=window.__STORYBOOK_ADDONS_CHANNEL__;return y.useEffect(()=>{n(t),o.emit(Ae,{storyId:e.id,updatedArgs:{darkMode:t}})},[]),Pe(()=>{n(e.args.darkMode)},[e.args.darkMode]),I.jsx(r,{})}],tags:["autodocs"]};function Pe(r,e){const t=y.useRef(!0);y.useEffect(()=>{if(t.current){t.current=!1;return}return r(...e)},e)}export{qe as default};
